<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Neurovision AI — MRI Anatomical Brain</title>

<style>

body {
    background: black;
    color: white;
    font-family: Arial;
    text-align: center;
}

.container {
    margin-top: 40px;
}

button {
    padding: 12px 25px;
    font-size: 18px;
    border-radius: 10px;
    border: none;
    cursor: pointer;
    background: white;
    color: black;
}

button:hover {
    background: gray;
}

input {
    margin: 20px;
}

#result {
    margin-top: 30px;
}

#brainImage {
    max-width: 90%;
    border-radius: 10px;
    margin-top: 20px;
}

#status {
    margin-top: 15px;
    color: gray;
}

#error {
    color: red;
    margin-top: 15px;
}

</style>

</head>

<body>

<div class="container">

<h1>Neurovision AI — MRI Anatomical Brain</h1>

<input type="file" id="fileInput">

<br>

<button onclick="analyzeMRI()">Analyze MRI</button>

<div id="status"></div>

<div id="error"></div>

<div id="result">

<h2 id="resultTitle" style="display:none;">
Brain Neural Activation Map
</h2>

<img id="brainImage" style="display:none;">

</div>

</div>

<script>

async function analyzeMRI() {

    const fileInput = document.getElementById("fileInput");
    const file = fileInput.files[0];

    if (!file) {
        alert("Select MRI image first");
        return;
    }

    document.getElementById("status").innerText = "Analyzing brain...";
    document.getElementById("error").innerText = "";
    document.getElementById("brainImage").style.display = "none";

    const formData = new FormData();
    formData.append("image", file);

    try {

        const response = await fetch("/analyze", {
            method: "POST",
            body: formData
        });

        const data = await response.json();

        if (!data.success) {

            document.getElementById("status").innerText = "";
            document.getElementById("error").innerText = data.error;
            return;
        }

        document.getElementById("status").innerText = "Analysis complete";

        const img = document.getElementById("brainImage");

        img.src = data.brain_image + "?t=" + new Date().getTime();

        img.style.display = "block";

        document.getElementById("resultTitle").style.display = "block";

    }
    catch (err) {

        document.getElementById("status").innerText = "";
        document.getElementById("error").innerText = err;

    }

}

</script>

</body>
</html>
