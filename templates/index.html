<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Neurovision AI — MRI Anatomical Brain</title>

<style>

body{
    background-color:black;
    color:white;
    font-family:Arial;
    text-align:center;
    padding-top:40px;
}

button{
    padding:12px 20px;
    font-size:16px;
    border:none;
    border-radius:8px;
    background-color:#444;
    color:white;
    cursor:pointer;
}

button:hover{
    background-color:#666;
}

#brainImg{
    margin-top:25px;
    max-width:600px;
    border-radius:10px;
}

#status{
    margin-top:15px;
    color:#aaa;
}

#error{
    color:red;
    margin-top:15px;
}

</style>

</head>

<body>

<h1>Neurovision AI — MRI Anatomical Brain</h1>

<br>

<input type="file" id="fileInput">

<br><br>

<button onclick="analyzeMRI()">Analyze MRI</button>

<div id="status"></div>

<div id="error"></div>

<img id="brainImg">

<script>

async function analyzeMRI(){

    const fileInput = document.getElementById("fileInput");

    if(fileInput.files.length === 0){
        alert("Please select image first");
        return;
    }

    document.getElementById("status").innerText="Analyzing...";
    document.getElementById("error").innerText="";
    document.getElementById("brainImg").src="";

    const formData = new FormData();

    formData.append("image", fileInput.files[0]);

    try{

        const response = await fetch("/analyze",{

            method:"POST",
            body:formData

        });

        const data = await response.json();

        if(data.success){

            document.getElementById("status").innerText="Analysis complete";

            document.getElementById("brainImg").src =
                data.brain_image + "?t=" + new Date().getTime();

        }
        else{

            document.getElementById("status").innerText="";
            document.getElementById("error").innerText=data.error;

        }

    }
    catch(err){

        document.getElementById("status").innerText="";
        document.getElementById("error").innerText=err;

    }

}

</script>

</body>
</html>
